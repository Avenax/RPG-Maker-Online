var rpg=function(e,t,i,r){this.settings={border:!1},r&&(this.settings.border=r.tileBorder),this.game={element:document.getElementById(e),tile:{x:t[0],y:t[1]},board:{x:i[0],y:i[1]}},this.player={x:0,y:0,health:100,inventory:[],height:10,width:10,color:"yellow",top:10},this.world={enemies:[],items:[]},this.titles=[],this.maps={},this.build=function(e){function t(e,t){t.image?e.style.backgroundImage='url("'+t.image+'")':t.color&&(e.style.backgroundColor=t.color)}this.game.element.innerHTML="Loading...";for(var i="",r=0;r<this.game.board.y;r++){i+='<div class="tile-row">';for(var l=0;l<this.game.board.x;l++)i+='<div id="'+r+"-"+l+'" class="tile"></div>';i+="</div>"}this.game.element.innerHTML=i;for(var s=document.getElementsByClassName("tile"),l=0;l<s.length;l++){var o=s[l];o.style.height=this.game.tile.y+"px",o.style.width=this.game.tile.x+"px",this.settings.border&&(o.style.border=this.settings.border),e.map[l]?t(o,this.tiles[e.map[l]]):t(o,this.tiles[0])}var a=document.getElementById(e.entry[0]+"-"+e.entry[1]);this.player.position=[e.entry[0],e.entry[1]],a.innerHTML='<div id="player"></div>';var n=document.getElementById("player");n.style.height=this.player.height+"px",n.style.width=this.player.width+"px",n.style.marginTop=this.player.top+"px",n.style.backgroundColor=this.player.color},this.movePlayer=function(e){var t=document.getElementById("player");t.remove(),"up"===e&&this.player.y>0?this.player.y-=1:"down"===e&&this.player.y<this.game.board.y&&(this.player.y+=1)},document.onkeydown=function(e){e=e||window.event,"38"==e.keyCode?this.movePlayer("up"):"40"==e.keyCode?movePlayer("down"):"37"==e.keyCode?movePlayer("left"):"39"==e.keyCode&&movePlayer("right")}};